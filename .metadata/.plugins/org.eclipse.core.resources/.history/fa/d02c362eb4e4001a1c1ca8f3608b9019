/*
 * uart.c
 *
 *  Created on: 	15 Aug 2020
 *      Author: 	vikylenaidoo
 *     Details:		low level UART driver
 */

//-----------------------------INLCUDES---------------------------//
#include "uart.h"

//------------------------------DEFINES--------------------------//
/*GNSS UART*/
#define RCC_APBPeriph_USART_GNSS	   			RCC_APB2Periph_USART1
#define RCC_AHBPeriph_USART_GNSS	   			RCC_AHB1Periph_GPIOB
#define USART_GNSS								USART1

#define GPIO_USART_GNSS							GPIOB
#define GPIO_Pin_USART_GNSS_TX					GPIO_Pin_6
#define GPIO_Pin_USART_GNSS_RX					GPIO_Pin_7

#define GPIO_Pin_USART_GNSS_TX_Src				GPIO_PinSource6
#define GPIO_Pin_USART_GNSS_RX_Src				GPIO_PinSource7

#define GPIO_AF_USART_GNSS						GPIO_AF_USART1
/*JETSON UART*/
//------------------------STATIC FUNCTIONS-------------------//


//-----------------------PUBLIC FUNCTIONS------------------//

void uart_initialise(){
	GPIO_InitTypeDef GPIO_InitStructure;
	USART_InitTypeDef USART_InitStructure;
	NVIC_InitTypeDef NVIC_InitStructure;

	/* Enable USART clock */
	RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART1, ENABLE);
	/* Enable GPIO clock for USART pins */
	RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOB, ENABLE);

	/* USART GPIO Configuration ----------------------------------------*/

	/* Configure USART pins: TX & RX */
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
	GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
	GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;

	/* USART TX pin configuration */
	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_USART_GNSS_TX;
	GPIO_Init(GPIO_USART_GNSS, &GPIO_InitStructure);



}


















